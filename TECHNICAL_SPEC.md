# –¢–µ—Ö–Ω—ñ—á–Ω–∞ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è: "–ü—Ä–æ—Å—Ç–∏–π –°—É—Ñ–ª–µ—Ä"

## üìã –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

**–ù–∞–∑–≤–∞ –ø—Ä–æ–µ–∫—Ç—É**: –ü—Ä–æ—Å—Ç–∏–π –°—É—Ñ–ª–µ—Ä (Simple Prompter)  
**–í–µ—Ä—Å—ñ—è**: 1.0.0 (MVP)  
**–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è**: –ì—Ä—É–¥–µ–Ω—å 2024  
**–ú–æ–≤–∞ —Ä–æ–∑—Ä–æ–±–∫–∏**: Dart/Flutter  
**–¶—ñ–ª—å–æ–≤–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Android, iOS, Web  

---

## üÜï –ù–û–í–Ü –§–£–ù–ö–¶–Ü–á (Post-MVP)

### 1. –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- **–ö–ª—ñ–∫ –ø–æ —Ç–µ–∫—Å—Ç—É** - —Å—Ç–æ–ø/–ø–ª–µ–π (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –∫–Ω–æ–ø—Ü—ñ)
- **–ñ–µ—Å—Ç–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏** - –º–∞–Ω—É–∞–ª—å–Ω–µ –ø—Ä–æ–∫—Ä—É—á—É–≤–∞–Ω–Ω—è –ø—Ä–∏ –ø–∞—É–∑—ñ
- **–ó–∞—Ç—Ä–∏–º–∫–∞ –∑–∞–ø—É—Å–∫—É** - 2 —Å–µ–∫—É–Ω–¥–∏ –ø–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º –∑ –≤—ñ–∑—É–∞–ª—å–Ω–∏–º —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º

### 2. –†–æ–∑—à–∏—Ä–µ–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞—Ç—Ä–∏–º–∫–∏** - 0-10 —Å–µ–∫—É–Ω–¥ –∑ –∫—Ä–æ–∫–æ–º 0.5s
- **–í—ñ–∑—É–∞–ª—å–Ω–∏–π –∑–≤–æ—Ä–æ—Ç–Ω–∏–π –∑–≤'—è–∑–æ–∫** - countdown —Ç–∞–π–º–µ—Ä
- **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–∞—Ç—Ä–∏–º–∫–∏** - –≤ SharedPreferences

---

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

### 1. –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
telepromter/
‚îú‚îÄ‚îÄ android/                 # Android —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ ios/                     # iOS —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ web/                     # Web —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ lib/                     # –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ Dart
‚îÇ   ‚îú‚îÄ‚îÄ main.dart           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îÇ   ‚îú‚îÄ‚îÄ app.dart            # –ì–æ–ª–æ–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ screens/            # –ï–∫—Ä–∞–Ω–∏
‚îÇ   ‚îú‚îÄ‚îÄ widgets/            # –ü–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –≤—ñ–¥–∂–µ—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ models/             # –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ services/           # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª—ñ—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ constants/          # –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏
‚îú‚îÄ‚îÄ assets/                  # –†–µ—Å—É—Ä—Å–∏ (—à—Ä–∏—Ñ—Ç–∏, –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è)
‚îú‚îÄ‚îÄ test/                    # –¢–µ—Å—Ç–∏
‚îú‚îÄ‚îÄ pubspec.yaml            # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

### 2. –ü–∞—Ç–µ—Ä–Ω–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
- **MVVM (Model-View-ViewModel)** –¥–ª—è –µ–∫—Ä–∞–Ω—ñ–≤
- **Service Layer** –¥–ª—è –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏
- **Repository Pattern** –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –¥–∞–Ω–∏–º–∏
- **Observer Pattern** –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

---

## üé® –î–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º–∞

### 1. –ö–æ–ª—å–æ—Ä–æ–≤–∞ –ø–∞–ª—ñ—Ç—Ä–∞
```dart
class AppColors {
  // –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–ª—å–æ—Ä–∏
  static const Color primary = Color(0xFF2196F3);      // –°–∏–Ω—ñ–π
  static const Color secondary = Color(0xFF03DAC6);    // –ë—ñ—Ä—é–∑–æ–≤–∏–π
  static const Color background = Color(0xFF121212);   // –¢–µ–º–Ω–æ-—Å—ñ—Ä–∏–π
  static const Color surface = Color(0xFF1E1E1E);      // –°—ñ—Ä–∏–π
  
  // –¢–µ–∫—Å—Ç
  static const Color onPrimary = Color(0xFFFFFFFF);    // –ë—ñ–ª–∏–π
  static const Color onSecondary = Color(0xFF000000);  // –ß–æ—Ä–Ω–∏–π
  static const Color onBackground = Color(0xFFFFFFFF); // –ë—ñ–ª–∏–π
  static const Color onSurface = Color(0xFFFFFFFF);    // –ë—ñ–ª–∏–π
  
  // –°—Ç–∞–Ω–∏
  static const Color error = Color(0xFFCF6679);        // –ß–µ—Ä–≤–æ–Ω–∏–π
  static const Color success = Color(0xFF4CAF50);      // –ó–µ–ª–µ–Ω–∏–π
  static const Color warning = Color(0xFFFF9800);      // –ü–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π
}
```

### 2. –¢–∏–ø–æ–≥—Ä–∞—Ñ—ñ–∫–∞
```dart
class AppTypography {
  // –ó–∞–≥–æ–ª–æ–≤–∫–∏
  static const TextStyle h1 = TextStyle(
    fontSize: 32.0,
    fontWeight: FontWeight.bold,
    letterSpacing: -0.5,
  );
  
  static const TextStyle h2 = TextStyle(
    fontSize: 24.0,
    fontWeight: FontWeight.w600,
    letterSpacing: -0.25,
  );
  
  // –¢–µ–∫—Å—Ç
  static const TextStyle body1 = TextStyle(
    fontSize: 16.0,
    fontWeight: FontWeight.normal,
    letterSpacing: 0.15,
  );
  
  static const TextStyle body2 = TextStyle(
    fontSize: 14.0,
    fontWeight: FontWeight.normal,
    letterSpacing: 0.25,
  );
  
  // –ö–Ω–æ–ø–∫–∏
  static const TextStyle button = TextStyle(
    fontSize: 14.0,
    fontWeight: FontWeight.w500,
    letterSpacing: 1.25,
  );
}
```

### 3. –í—ñ–¥—Å—Ç—É–ø–∏ —Ç–∞ —Ä–æ–∑–º—ñ—Ä–∏
```dart
class AppSpacing {
  // –ë–∞–∑–æ–≤—ñ –≤—ñ–¥—Å—Ç—É–ø–∏
  static const double xs = 4.0;
  static const double sm = 8.0;
  static const double md = 16.0;
  static const double lg = 24.0;
  static const double xl = 32.0;
  static const double xxl = 48.0;
  
  // –†–∞–¥—ñ—É—Å–∏
  static const double radiusSm = 4.0;
  static const double radiusMd = 8.0;
  static const double radiusLg = 16.0;
  static const double radiusXl = 24.0;
}
```

---

## üì± –ï–∫—Ä–∞–Ω–∏ —Ç–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
```
App
‚îú‚îÄ‚îÄ HomeScreen (–ø–æ—á–∞—Ç–∫–æ–≤–∏–π –µ–∫—Ä–∞–Ω)
‚îÇ   ‚îú‚îÄ‚îÄ TextEditor
‚îÇ   ‚îú‚îÄ‚îÄ StartButton
‚îÇ   ‚îî‚îÄ‚îÄ SettingsButton
‚îî‚îÄ‚îÄ PrompterScreen
    ‚îú‚îÄ‚îÄ ScriptDisplay
    ‚îú‚îÄ‚îÄ ControlPanel
    ‚îî‚îÄ‚îÄ NavigationBar
```

### 2. –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –µ–∫—Ä–∞–Ω—ñ–≤

#### HomeScreen
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ü–µ–Ω–∞—Ä—ñ—î–º  
**–ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏**:
- `TextEditingController` –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–º
- `AutoSaveService` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
- `ValidationService` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–µ–∫—Å—Ç—É

**UI –µ–ª–µ–º–µ–Ω—Ç–∏**:
```dart
Scaffold(
  appBar: AppBar(
    title: Text('–ü—Ä–æ—Å—Ç–∏–π –°—É—Ñ–ª–µ—Ä'),
    actions: [
      IconButton(
        icon: Icon(Icons.settings),
        onPressed: () => _showSettings(),
      ),
    ],
  ),
  body: Column(
    children: [
      Expanded(
        child: TextField(
          controller: _textController,
          maxLines: null,
          expands: true,
          decoration: InputDecoration(
            hintText: '–í–≤–µ–¥—ñ—Ç—å –≤–∞—à —Å—Ü–µ–Ω–∞—Ä—ñ–π —Ç—É—Ç...',
            border: OutlineInputBorder(),
          ),
        ),
      ),
      Padding(
        padding: EdgeInsets.all(AppSpacing.md),
        child: Row(
          children: [
            Expanded(
              child: ElevatedButton.icon(
                onPressed: _textController.text.isNotEmpty ? _startPrompter : null,
                icon: Icon(Icons.play_arrow),
                label: Text('–°—Ç–∞—Ä—Ç'),
              ),
            ),
          ],
        ),
      ),
    ],
  ),
)
```

#### PrompterScreen
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ —Å—Ü–µ–Ω–∞—Ä—ñ—é  
**–ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏**:
- `ScrollController` –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–∫—Ä—É—Ç–∫–æ—é
- `TimerService` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
- `ControlPanel` –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

**UI –µ–ª–µ–º–µ–Ω—Ç–∏**:
```dart
Scaffold(
  backgroundColor: AppColors.background,
  body: GestureDetector(
    onTap: _togglePlayPause,
    onDoubleTap: _toggleControls,
    child: Stack(
      children: [
        // –û—Å–Ω–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç
        SingleChildScrollView(
          controller: _scrollController,
          child: Container(
            padding: EdgeInsets.all(AppSpacing.lg),
            child: Text(
              widget.scriptText,
              style: AppTypography.body1.copyWith(
                color: AppColors.onBackground,
                fontSize: _fontSize,
              ),
            ),
          ),
        ),
        
        // –ü–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è
        if (_showControls)
          Positioned(
            bottom: AppSpacing.lg,
            left: AppSpacing.lg,
            right: AppSpacing.lg,
            child: ControlPanel(
              speed: _speed,
              fontSize: _fontSize,
              isMirrored: _isMirrored,
              onSpeedChanged: _onSpeedChanged,
              onFontSizeChanged: _onFontSizeChanged,
              onMirrorChanged: _onMirrorChanged,
            ),
          ),
      ],
    ),
  ),
)
```

---

## üîß –°–µ—Ä–≤—ñ—Å–∏ —Ç–∞ –ª–æ–≥—ñ–∫–∞

### 1. StorageService
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏–º –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º –¥–∞–Ω–∏—Ö  
**–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**: `shared_preferences`  
**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏**:

```dart
class StorageService {
  static const String _scriptKey = 'script_text';
  static const String _lastModifiedKey = 'last_modified';
  static const String _speedKey = 'scroll_speed';
  static const String _fontSizeKey = 'font_size';
  static const String _mirrorKey = 'mirror_mode';
  
  // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ü–µ–Ω–∞—Ä—ñ—é
  Future<void> saveScript(String text) async {
    try {
      final prefs = await SharedPreferences.getInstance();
      await prefs.setString(_scriptKey, text);
      await prefs.setInt(_lastModifiedKey, DateTime.now().millisecondsSinceEpoch);
    } catch (e) {
      throw StorageException('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ü–µ–Ω–∞—Ä—ñ—é: $e');
    }
  }
  
  // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ü–µ–Ω–∞—Ä—ñ—é
  Future<String?> loadScript() async {
    try {
      final prefs = await SharedPreferences.getInstance();
      return prefs.getString(_scriptKey);
    } catch (e) {
      throw StorageException('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ü–µ–Ω–∞—Ä—ñ—é: $e');
    }
  }
  
  // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
  Future<void> saveSettings({
    required double speed,
    required double fontSize,
    required bool isMirrored,
  }) async {
    try {
      final prefs = await SharedPreferences.getInstance();
      await Future.wait([
        prefs.setDouble(_speedKey, speed),
        prefs.setDouble(_fontSizeKey, fontSize),
        prefs.setBool(_mirrorKey, isMirrored),
      ]);
    } catch (e) {
      throw StorageException('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å: $e');
    }
  }
}
```

### 2. TimerService
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é –ø—Ä–æ–∫—Ä—É—Ç–∫–æ—é  
**–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**: `dart:async`  
**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏**:

```dart
class TimerService {
  Timer? _timer;
  bool _isPlaying = false;
  double _speed = 1.0;
  final ScrollController _scrollController;
  
  TimerService(this._scrollController);
  
  // –ó–∞–ø—É—Å–∫ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
  void startScrolling() {
    if (_isPlaying) return;
    
    _isPlaying = true;
    _timer = Timer.periodic(Duration(milliseconds: 50), (timer) {
      if (!_isPlaying) {
        timer.cancel();
        return;
      }
      
      _scrollToNextPosition();
    });
  }
  
  // –ó—É–ø–∏–Ω–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
  void stopScrolling() {
    _isPlaying = false;
    _timer?.cancel();
    _timer = null;
  }
  
  // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –ø–æ–∑–∏—Ü—ñ—ó
  void _scrollToNextPosition() {
    if (!_scrollController.hasClients) return;
    
    final currentOffset = _scrollController.offset;
    final maxOffset = _scrollController.position.maxScrollExtent;
    final newOffset = currentOffset + (_speed * 0.05);
    
    if (newOffset <= maxOffset) {
      _scrollController.animateTo(
        newOffset,
        duration: Duration(milliseconds: 50),
        curve: Curves.linear,
      );
    } else {
      stopScrolling();
    }
  }
  
  // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
  void setSpeed(double speed) {
    _speed = speed.clamp(0.5, 3.0);
  }
  
  // –û—á–∏—â–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
  void dispose() {
    stopScrolling();
  }
}
```

### 3. ValidationService
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–≤–µ–¥–µ–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É  
**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏**:

```dart
class ValidationService {
  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–≤–∂–∏–Ω–∏ —Ç–µ–∫—Å—Ç—É
  static bool isValidLength(String text) {
    return text.trim().length >= 10;
  }
  
  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤
  static bool hasInvalidCharacters(String text) {
    final invalidChars = RegExp(r'[<>{}]');
    return invalidChars.hasMatch(text);
  }
  
  // –ü–æ–≤–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è
  static ValidationResult validateScript(String text) {
    if (text.trim().isEmpty) {
      return ValidationResult(
        isValid: false,
        errorMessage: '–°—Ü–µ–Ω–∞—Ä—ñ–π –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º',
      );
    }
    
    if (!isValidLength(text)) {
      return ValidationResult(
        isValid: false,
        errorMessage: '–°—Ü–µ–Ω–∞—Ä—ñ–π –º–∞—î –±—É—Ç–∏ –Ω–µ –º–µ–Ω—à–µ 10 —Å–∏–º–≤–æ–ª—ñ–≤',
      );
    }
    
    if (hasInvalidCharacters(text)) {
      return ValidationResult(
        isValid: false,
        errorMessage: '–°—Ü–µ–Ω–∞—Ä—ñ–π –º—ñ—Å—Ç–∏—Ç—å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ñ —Å–∏–º–≤–æ–ª–∏',
      );
    }
    
    return ValidationResult(isValid: true);
  }
}

class ValidationResult {
  final bool isValid;
  final String? errorMessage;
  
  ValidationResult({required this.isValid, this.errorMessage});
}
```

---

## üìä –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö

### 1. ScriptModel
```dart
class ScriptModel {
  final String id;
  final String text;
  final DateTime createdAt;
  final DateTime lastModified;
  final int wordCount;
  final int characterCount;
  
  ScriptModel({
    required this.id,
    required this.text,
    required this.createdAt,
    required this.lastModified,
  }) : wordCount = text.split(' ').length,
       characterCount = text.length;
  
  // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑ JSON
  factory ScriptModel.fromJson(Map<String, dynamic> json) {
    return ScriptModel(
      id: json['id'] as String,
      text: json['text'] as String,
      createdAt: DateTime.parse(json['createdAt'] as String),
      lastModified: DateTime.parse(json['lastModified'] as String),
    );
  }
  
  // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤ JSON
  Map<String, dynamic> toJson() {
    return {
      'id': id,
      'text': text,
      'createdAt': createdAt.toIso8601String(),
      'lastModified': lastModified.toIso8601String(),
    };
  }
  
  // –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∑ –∑–º—ñ–Ω–∞–º–∏
  ScriptModel copyWith({
    String? text,
    DateTime? lastModified,
  }) {
    return ScriptModel(
      id: id,
      text: text ?? this.text,
      createdAt: createdAt,
      lastModified: lastModified ?? DateTime.now(),
    );
  }
}
```

### 2. PrompterSettings
```dart
class PrompterSettings {
  final double scrollSpeed;
  final double fontSize;
  final bool isMirrored;
  final bool autoSave;
  final Duration autoSaveDelay;
  
  PrompterSettings({
    this.scrollSpeed = 1.0,
    this.fontSize = 18.0,
    this.isMirrored = false,
    this.autoSave = true,
    this.autoSaveDelay = const Duration(milliseconds: 500),
  });
  
  // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ SharedPreferences
  static Future<PrompterSettings> load() async {
    final prefs = await SharedPreferences.getInstance();
    return PrompterSettings(
      scrollSpeed: prefs.getDouble('scroll_speed') ?? 1.0,
      fontSize: prefs.getDouble('font_size') ?? 18.0,
      isMirrored: prefs.getBool('is_mirrored') ?? false,
      autoSave: prefs.getBool('auto_save') ?? true,
      autoSaveDelay: Duration(
        milliseconds: prefs.getInt('auto_save_delay') ?? 500,
      ),
    );
  }
  
  // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ SharedPreferences
  Future<void> save() async {
    final prefs = await SharedPreferences.getInstance();
    await Future.wait([
      prefs.setDouble('scroll_speed', scrollSpeed),
      prefs.setDouble('font_size', fontSize),
      prefs.setBool('is_mirrored', isMirrored),
      prefs.setBool('auto_save', autoSave),
      prefs.setInt('auto_save_delay', autoSaveDelay.inMilliseconds),
    ]);
  }
}
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 1. Unit —Ç–µ—Å—Ç–∏
```dart
// test/services/storage_service_test.dart
void main() {
  group('StorageService Tests', () {
    late StorageService storageService;
    
    setUp(() {
      storageService = StorageService();
    });
    
    test('should save and load script correctly', () async {
      const testText = 'Test script text';
      
      await storageService.saveScript(testText);
      final loadedText = await storageService.loadScript();
      
      expect(loadedText, equals(testText));
    });
  });
}
```

### 2. Widget —Ç–µ—Å—Ç–∏
```dart
// test/screens/home_screen_test.dart
void main() {
  testWidgets('HomeScreen should display text field and start button', (tester) async {
    await tester.pumpWidget(MaterialApp(home: HomeScreen()));
    
    expect(find.byType(TextField), findsOneWidget);
    expect(find.byType(ElevatedButton), findsOneWidget);
    expect(find.text('–°—Ç–∞—Ä—Ç'), findsOneWidget);
  });
}
```

### 3. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏
```dart
// integration_test/app_test.dart
void main() {
  IntegrationTestWidgetsFlutterBinding.ensureInitialized();
  
  testWidgets('Complete user flow test', (tester) async {
    app.main();
    await tester.pumpAndSettle();
    
    // –í–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É
    await tester.enterText(find.byType(TextField), 'Test script');
    await tester.pumpAndSettle();
    
    // –ù–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞—Ä—Ç
    await tester.tap(find.text('–°—Ç–∞—Ä—Ç'));
    await tester.pumpAndSettle();
    
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ –µ–∫—Ä–∞–Ω —Å—É—Ñ–ª–µ—Ä–∞
    expect(find.byType(PrompterScreen), findsOneWidget);
  });
}
```

---

## üöÄ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

### 1. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–∞–º'—è—Ç—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `const` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º –≤—ñ–¥–∂–µ—Ç—ñ–≤
- –û—á–∏—â–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –≤ `dispose()`

### 2. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `ListView.builder` –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ç–µ–∫—Å—Ç—ñ–≤
- –î–µ–±–∞—É–Ω—Å –¥–ª—è –∞–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
- –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∞–Ω—ñ–º–∞—Ü—ñ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏

### 3. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
```dart
class PerformanceMonitor {
  static void measureOperation(String operationName, Function operation) {
    final stopwatch = Stopwatch()..start();
    operation();
    stopwatch.stop();
    
    debugPrint('$operationName took ${stopwatch.elapsedMilliseconds}ms');
  }
}
```

---

## üì± –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º

### 1. Android
- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è: API 21 (Android 5.0)
- –¶—ñ–ª—å–æ–≤–∞ –≤–µ—Ä—Å—ñ—è: API 34 (Android 14)
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤ –µ–∫—Ä–∞–Ω—É
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç—ñ–≤

### 2. iOS
- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è: iOS 11.0
- –¶—ñ–ª—å–æ–≤–∞ –≤–µ—Ä—Å—ñ—è: iOS 17.0
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ iPhone —Ç–∞ iPad
- –ê–¥–∞–ø—Ç–∞—Ü—ñ—è –ø—ñ–¥ —Ä—ñ–∑–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ –µ–∫—Ä–∞–Ω—É

### 3. Web
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å—É—á–∞—Å–Ω–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤
- Responsive –¥–∏–∑–∞–π–Ω
- PWA —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- –ö–ª–∞–≤—ñ–∞—Ç—É—Ä–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è

---

## üîí –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å

### 1. –õ–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
- –í—Å—ñ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó
- –ù–µ–º–∞—î –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ —Å–µ—Ä–≤–µ—Ä–∏
- –®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ (–ª–æ–∫–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ)

### 2. –î–æ–∑–≤–æ–ª–∏
- Android: `WRITE_EXTERNAL_STORAGE` (–¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É)
- iOS: `NSDocumentsFolderUsageDescription`
- Web: `navigator.storage` API

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞

### 1. –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏
- –ß–∞—Å –∑–∞–ø—É—Å–∫—É –¥–æ–¥–∞—Ç–∫—É
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
- FPS –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç—Ü—ñ
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤

### 2. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –º–µ—Ç—Ä–∏–∫–∏
- –ß–∞—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å—É—Ñ–ª–µ—Ä–∞
- –ß–∞—Å—Ç–æ—Ç–∞ –∑–º—ñ–Ω–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
- –ü–æ–ø—É–ª—è—Ä–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ —à—Ä–∏—Ñ—Ç—É
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–∑–µ—Ä–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É

---

**–í–µ—Ä—Å—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0  
**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: –ì—Ä—É–¥–µ–Ω—å 2024  
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –¥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
